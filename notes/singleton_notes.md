## 单例模式 c++
<https://juejin.cn/post/6844903928497176584>

### 什么是线程安全

在拥有共享数据的多条线程并行执行的程序中，线程安全的代码会通过同步机制保证各个线程正常且正确的执行，不会出现数据污染的情况。

### 如何保证线程安全

c++ linux 下的线程同步机制（synchronization)
  - 锁（Mutexes)
  - Joins
  - 条件变量

### 什么是单例模式？

单例模式指在整个系统生命周期中，保证每个类只能产生一个实例，确保该类的唯一性

#### 单例模式分类区别在于创建实例的时间不同
  - 懒汉式：系统运行中，实例并不存在，只有当需要使用该实例时，才会去创建并使用实例（考虑线程安全）
   - 普通懒汉式单例
   - 加锁的懒汉式单例
   - 内部静态变量的懒汉单例
 - 饿汉式单例：系统一运行，就初始化创建实例，当需要时直接调用。（指针实现，本身是线程安全）

#### 单例类的特点

   - 构造函数和析构函数为private，目的是禁止外部构造和析构
   - 拷贝构造和复制构造函数是private，目的是禁止外部拷贝和赋值，确保实例唯一性
   - 类里有个获取实例的静态函数，可以全局访问

### 特点与选择
1. 懒汉式是以时间换空间，适用于访问量较小时，内部静态变量，代码量最小。
2. 饿汉式是以时间换空间，是英语访问量较大时或线程比较多的情况。
   
